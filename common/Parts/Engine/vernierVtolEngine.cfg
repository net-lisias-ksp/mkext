PART
{
	name = vernierVtolEngine
	module = Part
	author = Lisias, HugoGut
	MODEL
	{
		model = Squad/Parts/Engine/vernorEngine/NewModel
		texture = vernierEngine3UV , Squad/Parts/Engine/vernorEngine/vernierEngine3UV

		position = 0.025, 0.0, 0.0
		rotation = 0,0,0
		scale = 2, 2.5, 4
	}
	MODEL
	{
		model = net.lisias.ksp/mkext/common/Parts/Engine/vernierVtolEngine

		position = -0.15, -0.3, 0.0
		rotation = 0,0,0
	}
	rescaleFactor = 1
	node_attach = 0.0, 0.0, 0.0, 1, 0, 0.0, 1
	TechRequired = specializedControl, heavyRocketry, hypersonicFlight
	entryCost = 25275
	cost = 4752
	category = Engine
	subcategory = 0
	title = Vernor Vtol Engine
	manufacturer = L Aerospace/KSP Division
	description = Born from the need to effectily land SpacePlanes on bodies other than Kerbin where relying on lift is not an option. L Aerospace enginners at first tried to resize the VR-N1ER Veer-Governor RCS thrusters but quickly realized that the fuel consuption was flabbergasting. Reverse engineering the VR-N1ER revealed that the diminute size and heat handling characterists severily hindered the combustion chamber leading to higher fuel consuption per kN, a realization that leaded to some breaktroughts that allowed the creation of a bigger, more powerfull and less fuel guzzler engine but still lightweight - ideal for VTOL activites on bodies with or without atmosphere, but at a cost: use of electrical pumps for the propellants to fine control the thust what implies the thing also eats jumping electrons from your battery. Heat is also a huge problem due the high pressure combustion in such diminute chambers and low mass. Not a bad trade-off, but keep an eye on your batteries and heat control while landing. The body is sturdy enough to allow being exposed on reentry, as well landing on it if the vessel is not too heavy. Not to be used underwater (even in Closed Cycle) due short circuits in the pumping system.
	attachRules = 0,1,0,1,1
	mass = 0.175
	heatConductivity = 0.36 // triple the default
	skinInternalConductionMult = 4.0
	emissiveConstant = 0.8 // engine nozzles are good at radiating.
	dragModelType = default
	maximum_drag = 0.01
	minimum_drag = 0.01
	angularDrag = 0.1
	crashTolerance = 100
	breakingForce = 150
	breakingTorque = 100
	maxTemp = 3000
	fuelCrossFeed = True
	PhysicsSignificance = 1
	bulkheadProfiles = srf
	tags = liquid landing vtol propuls rocket control thruster translate vernier
	EFFECTS
	{
		AirBreathing_running
		{
			AUDIO
			{
				channel = Ship
				clip = sound_jet_deep
				volume = 0.0 0.0
				volume = 0.1 0.0
				volume = 0.5 0.05
				volume = 1.0 0.7
				pitch = 0.0 0.5
				pitch = 1.0 1.0
				loop = true
			}
			MODEL_MULTI_PARTICLE
			{
				modelName = Squad/FX/Monoprop_big
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 1.0 1.0
				speed = 0.0 0.8
				speed = 1.0 1.0
				localRotation = 0, 0, 0
			}
		}
		AirBreathing_engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_medium
				volume = 0.6
				pitch = 5
				loop = false
			}
		}
		AirBreathing_disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 0.4
				pitch = 6
				loop = false
			}
		}
		ClosedCycle_running
		{
			AUDIO
			{
				channel = Ship
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 0.1 0.0
				volume = 0.5 0.05
				volume = 1.0 0.5
				pitch = 0.0 0.5
				pitch = 1.0 1.0
				loop = true
			}
			MODEL_MULTI_PARTICLE
			{
				modelName = Squad/FX/Monoprop_big
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.1 0.0
				emission = 1.0 1.0
				speed = 0.0 0.8
				speed = 1.0 1.0
				localRotation = 0, 0, 0
			}
		}
	}
	MODULE
	{
		name = MultiModeEngine
		primaryEngineID = AirBreathing
		primaryEngineModeDisplayName = #autoLOC_6001897 //#autoLOC_6001897 = AirBreathing
		secondaryEngineID = ClosedCycle
		secondaryEngineModeDisplayName = #autoLOC_6001898 //#autoLOC_6001898 = ClosedCycle
		carryOverThrottle = True
		autoSwitchAvailable = False
	}
	MODULE
	{
		name = ModuleEnginesFX
		engineID = AirBreathing
		thrustVectorTransformName = thrustTransform

		EngineType = LiquidFuel
		exhaustDamage = True
		exhaustDamageDistanceOffset = 8.750

		ignitionThreshold = 0.1
		minThrust = 5
		maxThrust = 60
		heatProduction = 9835
		disableUnderwater = true

		//fxOffset = 0, 0, 1.2
		runningEffectName = AirBreathing_running
		engageEffectName = AirBreathing_engage
		disengageEffectName = AirBreathing_disengage
		PROPELLANT
		{
			name = LiquidFuel
			resourceFlowMode = STAGE_STACK_FLOW_BALANCE
			ratio = 1
			DrawGauge = True
		}
		PROPELLANT
		{
			name = IntakeAir
			DrawGauge = True
			ignoreForIsp = True
			ratio = 29
		}
		PROPELLANT
		{
			name = ElectricCharge
			DrawGauge = True
			ignoreForIsp = True
			ratio = 0.25
			minResToLeave = 1.0
		}
		atmChangeFlow = True
		atmosphereCurve
		{
			key = 0 880
		}
		useVelCurve = True
		velCurve
		{
			key = 0 1 0 0
			key = 0.15 0.8 -0.876726 -0.876726
			key = 0.35 0 -0.876726 -0.876726
		}
		useAtmCurve = True
		atmCurve
		{
			key = 0 0 0 1
			key = 0.072 0.092 1.339822 1.339822
			key = 0.337 0.4 0.8976688 0.8976688
			key = 1 1 0.9127604 0
		}
	}
	MODULE
	{
		name = ModuleEnginesFX
		engineID = ClosedCycle
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		exhaustDamageDistanceOffset = 5.750
		ignitionThreshold = 0.1
		minThrust = 2
		maxThrust = 50
		heatProduction = 12293
		disableUnderwater = true
		//fxOffset = 0, 0, 1.2
		EngineType = LiquidFuel
		exhaustDamageDistanceOffset = 5.250
		runningEffectName = ClosedCycle_running
		PROPELLANT
		{
			name = LiquidFuel
			resourceFlowMode = STAGE_STACK_FLOW_BALANCE
			ratio = 0.9
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
			DrawGauge = True
		}
		PROPELLANT
		{
			name = ElectricCharge
			ratio = 0.45
			minResToLeave = 1.0
			DrawGauge = True
			ignoreForIsp = True
		}
		atmosphereCurve
		{
			key = 0 390
			key = 1 320
			key = 6 0.001
		}
	}
	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 1
		fxMax = 0.8
		maxDistance = 15
		falloff = 4
		thrustTransformName = thrustTransform
	}
}
